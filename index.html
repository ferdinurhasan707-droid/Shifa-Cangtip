<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Love Lucu üíñ</title>
  <style>
    :root{
      --bg: #fff5fb;
      --heart: #ff4d6d;
      --heart-dark: #e73658;
      --glow: rgba(255, 77, 109, .45);
      --text: #2b2b2b;
      --accent: #7c3aed;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg: #0f0e13;
        --text: #f7f7f7;
        --glow: rgba(255, 77, 109, .25);
      }
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(1200px 800px at 50% -10%, #ffe3ee 10%, transparent 60%), var(--bg);
      color: var(--text);
      display:grid;
      place-items:center;
      overflow:hidden;
    }

    /* Container */
    .stage{
      position: relative;
      width: min(560px, 92vw);
      aspect-ratio: 1 / 1;
      display:grid;
      place-items:center;
      filter: drop-shadow(0 10px 30px var(--glow));
      user-select: none;
    }

    /* Cute heart built with CSS only */
    .heart{
      --size: 180px;
      position: relative;
      width: var(--size);
      height: var(--size);
      transform: rotate(-45deg) scale(1);
      background: linear-gradient(145deg, var(--heart), var(--heart-dark));
      border-radius: 22% 22% 5% 5%;
      animation: beat 1.2s ease-in-out infinite;
      cursor: pointer;
      box-shadow:
        0 18px 35px -12px var(--glow),
        inset 0 -6px 12px rgba(0,0,0,.15);
      transition: transform .2s ease, filter .2s ease;
    }
    .heart::before,
    .heart::after{
      content:"";
      position:absolute;
      width: 100%;
      height: 100%;
      background: inherit;
      border-radius: 50%;
      box-shadow: inherit;
    }
    .heart::before{ top: -50%; left: 0; }
    .heart::after{ left: 50%; top: 0; }

    /* kawaii face */
    .face{
      position:absolute;
      inset: 0;
      transform: rotate(45deg); /* un-rotate face */
      display:flex; align-items:center; justify-content:center;
      gap: 22px;
      pointer-events:none;
    }
    .eye{
      width: 18px; height: 18px; border-radius: 50%;
      background: #1f1f1f;
      box-shadow: 0 0 0 3px rgba(255,255,255,.25);
      animation: blink 4.5s infinite;
    }
    .smile{
      width: 60px; height: 30px; border: 5px solid #1f1f1f; border-top: none;
      border-bottom-left-radius: 60px; border-bottom-right-radius: 60px;
      margin-top: 36px;
      filter: drop-shadow(0 2px 0 rgba(255,255,255,.25));
    }

    /* text + ui */
    .title{
      position: absolute; bottom: 24px; left: 50%; transform: translateX(-50%);
      display:flex; flex-direction:column; align-items:center; gap: 14px;
      text-align:center;
    }
    h1{ margin:0; font-size: clamp(22px, 4vw, 34px); font-weight: 800; letter-spacing: .3px; }
    .hint{
      font-size: 14px; opacity:.8; background: rgba(255,255,255,.6);
      padding: 8px 14px; border-radius: 999px; backdrop-filter: blur(6px);
      border: 1px solid rgba(0,0,0,.06);
    }
    .controls{
      position:absolute; top: 18px; right: 18px; display:flex; gap:10px;
    }
    .btn{
      appearance: none; border: none; padding: 10px 14px; border-radius: 999px;
      background: white; color:#1f1f1f; font-weight:700; cursor:pointer;
      box-shadow: 0 8px 14px rgba(0,0,0,.08);
      transition: transform .15s ease, box-shadow .15s ease;
    }
    .btn:active{ transform: translateY(1px) scale(.99); box-shadow: 0 4px 8px rgba(0,0,0,.08); }

    /* Floating mini hearts */
    .pop{ position:absolute; pointer-events:none; }

    @keyframes beat{
      0%, 100%{ transform: rotate(-45deg) scale(1); }
      25%{ transform: rotate(-45deg) scale(1.06); }
      50%{ transform: rotate(-45deg) scale(1); }
      75%{ transform: rotate(-45deg) scale(1.08); }
    }
    @keyframes rise{
      0%{ transform: translate(0,0) scale(.8); opacity:1; }
      70%{ opacity: 1; }
      100%{ transform: translate(var(--dx), -160px) scale(1.4); opacity:0; }
    }
    @keyframes blink{
      0%, 8%, 100% { transform: scaleY(1); }
      4% { transform: scaleY(0.1); }
    }

    /* accessibility: respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .heart{ animation: none; }
      .eye{ animation: none; }
    }
  </style>
</head>
<body>
  <div class="controls">
    <button class="btn" id="colorBtn" aria-label="Ganti warna">Ganti warna</button>
    <button class="btn" id="sparkBtn" aria-label="Buat banyak hati">Banjir ‚ù§Ô∏è</button>
  </div>

  <div class="stage" aria-live="polite">
    <div class="heart" id="heart" role="button" aria-label="Hati lucu, klik untuk efek" tabindex="0">
      <div class="face" aria-hidden="true">
        <div class="eye"></div>
        <div class="smile"></div>
        <div class="eye"></div>
      </div>
    </div>

    <div class="title">
      <h1>Love yang Lucu üíñ</h1>
      <div class="hint">Klik/tekan hati untuk munculin mini-hearts. Tekan spasi juga bisa!</div>
    </div>
  </div>

  <script>
    // Utility: random range
    const rand = (min, max) => Math.random() * (max - min) + min;

    const heart = document.getElementById('heart');
    const stage = document.querySelector('.stage');
    const colorBtn = document.getElementById('colorBtn');
    const sparkBtn = document.getElementById('sparkBtn');

    const palettes = [
      ['#ff4d6d', '#e73658'], // pink
      ['#ff7a00', '#ff4e00'], // orange
      ['#7c3aed', '#5b21b6'], // purple
      ['#00c2ff', '#0081ff'], // blue
      ['#22c55e', '#16a34a'], // green
    ];

    let paletteIndex = 0;

    function setPalette(i){
      const [a,b] = palettes[i % palettes.length];
      document.documentElement.style.setProperty('--heart', a);
      document.documentElement.style.setProperty('--heart-dark', b);
      document.documentElement.style.setProperty('--glow', a.replace(')', ', .38)').replace('rgb', 'rgba'));
    }

    function popHeart(x, y){
      const el = document.createElement('span');
      el.className = 'pop';
      el.textContent = ['‚ù§','üíñ','üíó','üíò','üíù'][Math.floor(rand(0,5))];
      el.style.left = x + 'px';
      el.style.top = y + 'px';
      el.style.fontSize = rand(14, 28) + 'px';
      const dx = rand(-60, 60);
      el.style.setProperty('--dx', dx + 'px');
      el.style.animation = `rise ${rand(1.4, 2.2)}s ease-out forwards`;
      stage.appendChild(el);
      setTimeout(() => el.remove(), 2500);
    }

    function burst(amount = 18){
      const rect = heart.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;
      for(let i=0;i<amount;i++){
        popHeart(cx + rand(-40,40), cy + rand(-10,20));
      }
    }

    function clickHandler(e){
      const rect = stage.getBoundingClientRect();
      popHeart(e.clientX ?? (rect.left + rect.width/2), e.clientY ?? (rect.top + rect.height/2));
      heart.style.transform = 'rotate(-45deg) scale(1.12)';
      heart.style.filter = 'brightness(1.1)';
      setTimeout(()=>{ heart.style.transform = ''; heart.style.filter = ''; }, 140);
    }

    // Events
    heart.addEventListener('pointerdown', clickHandler);
    document.addEventListener('keydown', (e)=>{
      if(e.code === 'Space'){ e.preventDefault(); burst(14); }
      if(e.key.toLowerCase() === 'c'){ paletteIndex++; setPalette(paletteIndex); burst(6); }
    });
    colorBtn.addEventListener('click', ()=>{ paletteIndex++; setPalette(paletteIndex); burst(10); });
    sparkBtn.addEventListener('click', ()=> burst(30));

    // Initial palette
    setPalette(0);
  </script>
</body>
</html>
